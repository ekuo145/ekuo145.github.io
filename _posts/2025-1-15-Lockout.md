---
layout: post
title: Locked Out of Computer!
---
Here are the detailed steps we used to find and restore the password of someone who was locked out of her computer. (step 0: panic)  

First, we looked at the IP addresses of our 2 working computers, then running **nmap** to find the ip addresses that were on. We then got confused because we realized we didn't have details for the function, so we ran **Ifconfig** to find our subnet mask (255.255.252.0). From this, we did a couple of binary computations to find that the subnet mask meant it was /22 (the first 22 digits didn't change). Using this information, we ran the command **nmap -v -sn 255.255.252.0/24 10.0.140.0/22** to find what IPs were online.  

Then, we realized we couldn’t find stuff easily so ran **nmap -v -sn 255.255.252.0/24 10.0.140.0/22 > nmap.txt**. We opened the file using **less nmap.txt** to find the open connections on the baysplash network, and faced some challanges because some people were on it with their macbooks so the number of online IP addresses would often vary. 

Eventually, we figured all of the IPs that belonged to the Raspberry Pis, and asked other students what IP addresses their computers were, so we could narrow down her ip address to 4 options. From there, we turned off our locked computer and ran the nmap command again to see which IP address turned off (it was 10.0.140.7). We then tried to use ssh to login to the locked computer, but realized we didn’t have a password for it (oops).   

To help with this, our teacher gave us the option of requesting hints, but we needed to ask for it in a .txt file which we placed on his computer. To do this, we used process of elimination to find the only ip address he could be linked to, and with his username and password which we figured out followed a specific pattern, we used ssh to connect to his computer. We used the commands **touch** to create the file and **nano** to edit its contents. From this, we found out we needed to use the hydra program.  

So, we switched networks to guest so that we could access the internet, and installed Hydra with the command **sudo apt-get install hydra-gtk**. After that, we looked up the syntax for Hydra and realized we needed a text file of common passwords, though we first tried to create one and realized we could find one somewhere else. So, we found **rockyou.txt** on our instructor's computer. To do that, we ran the command **sudo find / -name rockyou.txt**, and we found it in one of his folders.  

We tried to copy it over using scp, but for some reason it wasn't giving us permission to copy over and we tried to use sudo, and then also realized that's not how it works. Instead, we ran hydra on his computer since we couldn’t transfer the files, using the command **Hydra -l cseh-9 -P rockyou.txt 10.0.140.7 ssh -t 4**, and it found the password!!!  

From there, we entered the correct password for locked computer (123456), referenced the man page for passwd command, ran **sudo passwd cseh-9** (her account name), entered the previous password, and changed it back to the one she wanted.
